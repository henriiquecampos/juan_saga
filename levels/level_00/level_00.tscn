[gd_scene load_steps=16 format=2]

[ext_resource path="res://levels/level_00/level_00.gd" type="Script" id=1]
[ext_resource path="res://objects/rocket/rocket.tscn" type="PackedScene" id=2]
[ext_resource path="res://actors/juan_alpaca/juan_alpaca.tscn" type="PackedScene" id=3]
[ext_resource path="res://levels/tilesets/tileset_godot.tres" type="TileSet" id=4]
[ext_resource path="res://objects/computer/computer.tscn" type="PackedScene" id=5]
[ext_resource path="res://interface/hud/hud.tscn" type="PackedScene" id=6]
[ext_resource path="res://screens/basic_screen.tscn" type="PackedScene" id=7]
[ext_resource path="res://levels/spawner.gd" type="Script" id=8]
[ext_resource path="res://levels/level_00/idle.tres" type="Animation" id=9]
[ext_resource path="res://actors/enemies/bugs.tscn" type="PackedScene" id=10]
[ext_resource path="res://interface/theme.tres" type="Theme" id=11]

[sub_resource type="LineShape2D" id=1]
normal = Vector2( 1, 0 )

[sub_resource type="LineShape2D" id=2]
normal = Vector2( -1, 0 )

[sub_resource type="Animation" id=3]
resource_name = "fade"
tracks/0/type = "value"
tracks/0/path = NodePath("fade/color_rect:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 0.509804 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("tilemap:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 0.509804, 0.509804, 0.509804, 1 ) ]
}

[sub_resource type="GDScript" id=4]
script/source = "extends Camera2D

func tween_position(target_pos, time = 1.0):
	$tween.interpolate_property(self, \"global_position\", global_position, target_pos,
		time, Tween.TRANS_SINE, Tween.EASE_IN)
	$tween.start()"

[node name="level_00" type="Node2D"]
script = ExtResource( 1 )
next_level = "res://levels/level_01.tscn"
min_score = 500

[node name="rocket" parent="." instance=ExtResource( 2 )]
position = Vector2( 1632, 0 )
icons_path = NodePath("../interface/hud/items_container/items")
score_path = NodePath("../interface/hud/score")

[node name="juan" parent="." instance=ExtResource( 3 )]
editor/display_folded = true
position = Vector2( 88, 512 )
z_index = 1

[node name="camera_rig" parent="juan" index="4"]
remote_path = NodePath("../../camera")

[node name="tilemap" type="Node2D" parent="."]
editor/display_folded = true
position = Vector2( 0, 256 )
__meta__ = {
"_edit_group_": true
}

[node name="tile_map" type="TileMap" parent="tilemap"]
scale = Vector2( 0.5, 0.5 )
tile_set = ExtResource( 4 )
cell_size = Vector2( 128, 128 )
format = 1
tile_data = PoolIntArray( -262144, 0, 0, -262143, 2, 0, -262142, 1, 0, -262141, 0, 0, -262125, 6, 0, -262122, 1, 0, -262121, 0, 0, -262120, 2, 0, -262119, 1, 0, -262118, 0, 0, -262117, 2, 0, -262116, 1, 0, -196603, 6, 0, -196591, 6, 0, -131058, 6, 0, -65529, 6, 0, 3, 6, 0, 18, 6, 0, 131077, 6, 0, 131087, 6, 0, 262144, 2, 0, 262145, 1, 0, 262146, 0, 0, 262147, 2, 0, 262148, 1, 0, 262149, 0, 0, 262150, 2, 0, 262151, 1, 0, 262152, 0, 0, 262153, 2, 0, 262154, 1, 0, 262155, 0, 0, 262156, 2, 0, 262157, 1, 0, 262158, 0, 0, 262159, 2, 0, 262160, 0, 0, 262161, 2, 0, 262162, 1, 0, 262163, 0, 0, 262164, 2, 0, 262165, 1, 0, 262166, 0, 0, 262167, 2, 0, 262168, 1, 0, 262169, 0, 0, 262170, 2, 0, 262171, 1, 0, 262172, 0, 0, 327680, 3, 0, 327681, 5, 0, 327682, 4, 0, 327683, 3, 0, 327684, 5, 0, 327685, 4, 0, 327686, 3, 0, 327687, 5, 0, 327688, 4, 0, 327689, 3, 0, 327690, 5, 0, 327691, 4, 0, 327692, 3, 0, 327693, 5, 0, 327694, 4, 0, 327695, 3, 0, 327696, 5, 0, 327697, 4, 0, 327698, 3, 0, 327699, 5, 0, 327700, 4, 0, 327701, 3, 0, 327702, 5, 0, 327703, 4, 0, 327704, 3, 0, 327705, 5, 0, 327706, 4, 0, 327707, 3, 0, 327708, 5, 0 )

[node name="computer" parent="." instance=ExtResource( 5 )]
position = Vector2( 120, -96 )
icons_path = NodePath("../interface/hud/items_container/items")

[node name="left_wall" type="StaticBody2D" parent="."]
editor/display_folded = true

[node name="shape" type="CollisionShape2D" parent="left_wall"]
shape = SubResource( 1 )

[node name="right_wall" type="StaticBody2D" parent="."]
editor/display_folded = true
position = Vector2( 1856, 8 )

[node name="shape" type="CollisionShape2D" parent="right_wall"]
shape = SubResource( 2 )

[node name="interface" type="CanvasLayer" parent="."]

[node name="hud" parent="interface" instance=ExtResource( 6 )]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 0.0
margin_bottom = 0.0
level_path = NodePath("../..")

[node name="items_container" parent="interface/hud" index="0"]
editor/display_folded = true

[node name="counter" parent="interface/hud" index="2"]
pause_mode = 1

[node name="timer" parent="interface/hud/counter" index="0"]
wait_time = 30.0

[node name="uncompleted" parent="interface/hud" index="3"]
editor/display_folded = true

[node name="screen" type="CanvasLayer" parent="."]
layer = 2

[node name="game_screen" parent="screen" instance=ExtResource( 7 )]
pause_mode = 2
next_scene = "res://screens/game_over/game_over_screen.tscn"

[node name="fade" type="CanvasLayer" parent="."]
editor/display_folded = true
layer = -1

[node name="color_rect" type="ColorRect" parent="fade"]
modulate = Color( 1, 1, 1, 0 )
margin_right = 1024.0
margin_bottom = 600.0
mouse_filter = 2
color = Color( 0, 0, 0, 1 )

[node name="animator" type="AnimationPlayer" parent="."]
pause_mode = 2
anims/fade = SubResource( 3 )

[node name="spawner" type="Position2D" parent="."]
editor/display_folded = true
position = Vector2( 119.361, -680 )
script = ExtResource( 8 )
anim = ExtResource( 9 )

[node name="timer" type="Timer" parent="spawner"]

[node name="animator" type="AnimationPlayer" parent="spawner"]

[node name="bugs" parent="." instance=ExtResource( 10 )]

[node name="camera" type="Camera2D" parent="." groups=[
"camera",
]]
pause_mode = 2
editor/display_folded = true
position = Vector2( 88, 512 )
current = true
limit_left = 0
limit_right = 1856
limit_bottom = 638
smoothing_enabled = true
smoothing_speed = 10.0
drag_margin_left = 0.05
drag_margin_top = 0.1
drag_margin_right = 0.05
drag_margin_bottom = 0.25
editor_draw_limits = true
editor_draw_drag_margin = true
script = SubResource( 4 )

[node name="tween" type="Tween" parent="camera"]

[node name="dialogue" type="CanvasLayer" parent="."]

[node name="control" type="Control" parent="dialogue"]
anchor_right = 1.0
anchor_bottom = 1.0
theme = ExtResource( 11 )
[connection signal="score_changed" from="interface/hud/score" to="rocket" method="update_score"]

[editable path="juan"]

[editable path="interface/hud"]

[editable path="interface/hud/counter"]
