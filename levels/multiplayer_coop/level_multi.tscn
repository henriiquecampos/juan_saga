[gd_scene load_steps=4 format=2]

[ext_resource path="res://levels/level_00/level_00.tscn" type="PackedScene" id=1]
[ext_resource path="res://actors/juan_alpaca/juan_alpaca.tscn" type="PackedScene" id=2]

[sub_resource type="GDScript" id=1]

script/source = "extends Node2D

export (NodePath) var player_one_path
export (NodePath) var player_two_path
export (float) var threshold = 400.0

onready var player_one = get_node(player_one_path)
onready var player_two = get_node(player_two_path)
var zoom = Vector2(1,1)

func tween_position(target_pos, time = 1.0):
	$tween.interpolate_property(self, \"global_position\", global_position, target_pos,
		time, Tween.TRANS_SINE, Tween.EASE_IN)
	$tween.start()
	
func _process(delta):
	var d = player_one.position.distance_to(player_two.position)
	zoom = Vector2(d/threshold, d/threshold)
	
	var mid = player_one.position + ((player_two.position - player_one.position)/2)
	print(mid)
	position = mid"

[node name="level_multi" instance=ExtResource( 1 )]

[node name="screen" parent="." index="7"]

editor/display_folded = true

[node name="game_screen" parent="screen" index="0"]

visible = false

[node name="camera" parent="." index="12"]

current = false

[node name="dialogue" parent="." index="13"]

editor/display_folded = true

[node name="juan_2" parent="." index="14" instance=ExtResource( 2 )]

editor/display_folded = true
position = Vector2( 764, 512 )
player = "_2"

[node name="cutout_character" parent="juan_2" index="1"]

player = "_2"

[node name="interact_area" parent="juan_2" index="7"]

editor/display_folded = true

[node name="camera_rig" type="RemoteTransform2D" parent="." index="15"]

remote_path = NodePath("")
use_global_coordinates = true
update_position = true
update_rotation = true
update_scale = true
script = SubResource( 1 )
player_one_path = NodePath("../juan")
player_two_path = NodePath("../juan_2")
threshold = 400.0

[node name="tween" type="Tween" parent="camera_rig" index="0"]

repeat = false
playback_process_mode = 1
playback_speed = 1.0
playback/active = false
playback/repeat = false
playback/speed = 1.0

[connection signal="score_changed" from="interface/hud/score" to="rocket" method="update_score"]


[editable path="juan"]
[editable path="interface/hud"]
[editable path="interface/hud/counter"]
[editable path="juan_2"]
