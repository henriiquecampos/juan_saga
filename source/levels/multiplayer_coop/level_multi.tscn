[gd_scene load_steps=7 format=2]

[ext_resource path="res://levels/level_00/level_00.tscn" type="PackedScene" id=1]
[ext_resource path="res://objects/spawner.tscn" type="PackedScene" id=2]
[ext_resource path="res://levels/multiplayer_coop/spawn_02.tres" type="Animation" id=3]
[ext_resource path="res://actors/enemies/boss_bug/boss_bug.tscn" type="PackedScene" id=4]
[ext_resource path="res://actors/remi_lynx/remi_lynx.tscn" type="PackedScene" id=5]

[sub_resource type="GDScript" id=1]

script/source = "extends Node2D

export (NodePath) var player_one_path
export (NodePath) var player_two_path
export (float) var threshold = 400.0

onready var player_one = get_node(player_one_path)
onready var player_two = get_node(player_two_path)
var zoom = Vector2(1,1)

func tween_position(target_pos, time = 1.0):
	$tween.interpolate_property(self, \"global_position\", global_position, target_pos,
		time, Tween.TRANS_SINE, Tween.EASE_IN)
	$tween.start()
	
func _process(delta):
	var d = player_one.position.distance_to(player_two.position)
	zoom = Vector2(d/threshold, d/threshold)
	
	var mid = player_one.position + ((player_two.position - player_one.position)/2)
	position = mid"

[node name="level_multi" instance=ExtResource( 1 )]

min_score = 5600

[node name="rocket" parent="." index="0"]

position = Vector2( 1576, -448 )

[node name="tilemap" parent="." index="1"]

editor/display_folded = false

[node name="tile_map" parent="tilemap" index="0"]

tile_data = PoolIntArray( -720876, 0, 0, -720875, 1, 0, -720874, 2, 0, -720873, 0, 0, -720872, 1, 0, -720871, 2, 0, -720870, 0, 0, -720869, 1, 0, -720868, 2, 0, -655345, 6, 0, -655340, 4, 0, -655339, 3, 0, -655338, 5, 0, -655337, 4, 0, -655336, 3, 0, -655335, 5, 0, -655334, 4, 0, -655333, 3, 0, -655332, 5, 0, -393198, 6, 0, -262130, 6, 0, -131054, 6, 0, 65551, 6, 0, 196608, 0, 0, 196609, 1, 0, 196610, 2, 0, 196611, 0, 0, 196612, 1, 0, 196613, 2, 0, 196614, 0, 0, 196615, 1, 0, 196616, 2, 0, 196617, 0, 0, 196618, 1, 0, 262144, 4, 0, 262145, 3, 0, 262146, 5, 0, 262147, 4, 0, 262148, 3, 0, 262149, 5, 0, 262150, 4, 0, 262151, 3, 0, 262152, 5, 0, 262153, 4, 0, 262154, 3, 0, 262155, 2, 0, 262156, 0, 0, 262157, 1, 0, 262158, 2, 0, 262159, 0, 0, 262160, 1, 0, 262161, 2, 0, 262162, 0, 0, 262163, 1, 0, 262164, 2, 0, 262165, 0, 0, 262166, 1, 0, 262167, 2, 0, 262168, 0, 0, 262169, 1, 0, 262170, 2, 0, 262171, 0, 0, 262172, 1, 0, 327680, 5, 0, 327681, 4, 0, 327682, 3, 0, 327683, 5, 0, 327684, 4, 0, 327685, 3, 0, 327686, 5, 0, 327687, 4, 0, 327688, 3, 0, 327689, 5, 0, 327690, 4, 0, 327691, 3, 0, 327692, 5, 0, 327693, 4, 0, 327694, 3, 0, 327695, 5, 0, 327696, 4, 0, 327697, 3, 0, 327698, 5, 0, 327699, 4, 0, 327700, 3, 0, 327701, 5, 0, 327702, 4, 0, 327703, 3, 0, 327704, 5, 0, 327705, 4, 0, 327706, 3, 0, 327707, 5, 0, 327708, 4, 0 )

[node name="computer" parent="." index="2"]

position = Vector2( 1496, 424 )

[node name="counter" parent="interface/hud" index="2"]

editor/display_folded = false

[node name="timer" parent="interface/hud/counter" index="0"]

wait_time = 140.0

[node name="spawner" parent="." index="9"]

min_time = 1.0
max_time = 3.0

[node name="spawner_2" parent="." index="10" instance=ExtResource( 2 )]

position = Vector2( 1423.22, 104 )
max_time = 5.0
anim = ExtResource( 3 )

[node name="boss_bug" parent="bugs" index="1" instance=ExtResource( 4 )]

position = Vector2( 1760, 448 )
walk_speed = 350

[node name="camera" parent="." index="12"]

position = Vector2( 832, 264 )
current = false

[node name="dialogue" parent="." index="13"]

editor/display_folded = true

[node name="camera_rig" type="RemoteTransform2D" parent="." index="14"]

editor/display_folded = true
position = Vector2( 832, 264 )
remote_path = NodePath("../camera")
use_global_coordinates = true
update_position = true
update_rotation = true
update_scale = true
script = SubResource( 1 )
player_one_path = NodePath("../juan")
player_two_path = NodePath("../remi")
threshold = 350.0

[node name="tween" type="Tween" parent="camera_rig" index="0"]

repeat = false
playback_process_mode = 1
playback_speed = 1.0
playback/active = false
playback/repeat = false
playback/speed = 1.0

[node name="juan" parent="." index="15"]

editor/display_folded = true
position = Vector2( 184, 376 )
walk_speed = 500

[node name="remi" parent="." index="16" instance=ExtResource( 5 )]

editor/display_folded = true
position = Vector2( 72, 376 )
walk_speed = 350
jump_height = 950
max_jumps = 2

[connection signal="score_changed" from="interface/hud/score" to="rocket" method="update_score"]


[editable path="interface/hud"]
[editable path="interface/hud/counter"]
[editable path="spawner_2"]
[editable path="juan"]
[editable path="remi"]
